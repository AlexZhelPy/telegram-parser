# Telegram Channel Parser

Это приложение позволяет сканировать Telegram-каналы, извлекать сообщения, содержащие ключевые слова, и преобразовывать их в удобный формат. Приложение также поддерживает генерацию изображений на основе найденных сообщений и сохранение результатов в базу данных.

## Основные функции

1. **Сканирование Telegram-каналов:**
   - Поиск сообщений, содержащих ключевые слова.
   - Исключение сообщений с определенными словами.
   - Поддержка трех режимов сканирования:
     - Сканирование с начала канала.
     - Продолжение с последней даты сканирования.
     - Сканирование с конкретной даты.

2. **Преобразование сообщений:**
   - Извлечение заголовка из текста сообщения.
   - Генерация изображения на основе заголовка сообщения.
   - Преобразование текста сообщения с использованием промтов (шаблонов).

3. **Управление промтами:**
   - Создание, редактирование и удаление промтов.
   - Промты содержат три поля:
     - Промт для преобразования текста сообщения.
     - Промт для генерации изображения.
     - Промт для извлечения заголовка сообщения.

4. **Сохранение результатов:**
   - Сохранение найденных сообщений в базу данных.
   - Сохранение преобразованных текстов и изображений.

## Установка

1. **Клонируйте репозиторий:**
   ```bash
   git clone https://github.com/AlexZhelPy/telegram-parser.git
   cd telegram-parser
   
2. **Установите зависимости:**

    ```bash
    pip install -r requirements.txt
    ```

3. **Создайте файл .env:**

    Создайте файл .env в корне проекта и добавьте в него следующие переменные:

    ```plaintext
    API_ID=ваш_api_id
    API_HASH=ваш_api_hash
    ```
4. **Запустите приложение:**

    ```bash
    python main.py
    ```
## Использование
1. **Сканирование канала:**

    - Нажмите кнопку "Сканировать".

    - Введите название канала.

    - Выберите режим сканирования:

      - Сканировать с начала канала — сканирует все сообщения с самого начала.

      - Продолжить с последней даты — сканирует сообщения, начиная с последней даты, сохраненной в базе данных.

      - Сканировать с конкретной даты — сканирует сообщения, начиная с указанной даты.

2. **Преобразование сообщений:**

    - После сканирования выберите сообщение и нажмите "Преобразовать".

    - Выберите промт для преобразования текста, генерации изображения и извлечения заголовка.

3. **Управление промтами:**

    - В меню выберите "Промты" -> "Управление промтами".

    - Добавляйте, редактируйте или удаляйте промты.

## Структура проекта
* `main.py` — точка входа в приложение.

* `gui.py` — графический интерфейс приложения.

* `telegram_client.py` — клиент для работы с Telegram API.

* `g4f_wrapper.py` — модуль для работы с нейросетью (генерация текста и изображений).

* `database.py` — модуль для работы с базой данных.

* `.env` — файл для хранения переменных окружения (API_ID и API_HASH).

## Зависимости
* `telethon` — для работы с Telegram API.

* `tkinter` — для графического интерфейса.

* `Pillow` — для работы с изображениями.

* `g4f` — для генерации текста и изображений с помощью нейросетей.

* `python-dotenv` — для загрузки переменных окружения из файла .env.

## Лицензия
Этот проект распространяется под лицензией MIT. Подробности см. в файле LICENSE.
